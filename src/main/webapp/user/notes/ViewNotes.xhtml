<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"

      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./../Master.xhtml">

            <ui:define name="content">
                <h:link outcome="UploadNotes.jsf" class="bg-green-500 hover:bg-green-700 text-white p-2 px-5 rounded shadow-md" value="Upload Notes" /><br />

                <div class="container mx-auto p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                    <ui:repeat value="#{viewNotesBean.notes}" var="note">
                        <div class="bg-white shadow-md rounded-lg overflow-hidden border hover:shadow-lg">
                            <div class="p-4">
                                <h2 class="font-bold text-xl mb-2 text-gray-800">#{note.title}</h2>
                                <p class="text-gray-600 text-sm mb-4">#{note.description}</p>
                                <p class="text-gray-500 text-xs mb-2">Uploaded by: <h:link class="text-blue-500 text-bold" value="@#{note.userId.username}" outcome="/UserDetails.jsf?faces-redirect=true&amp;username=${note.userId.username}" /></p>
                                <p class="text-gray-500 text-xs">Date: #{note.createdAt}</p>
                                <div class="mt-4">
                                    <h:form>
                                        <p:commandButton value="View Details" action="#{viewNotesBean.navigateToDetail(note.id)}" styleClass="text-green-500 hover:text-green-700">
                                            <f:param name="noteId" value="#{note.id}" />
                                        </p:commandButton>
                                    </h:form>
                                </div>
                            </div>
                        </div>
                    </ui:repeat>
                </div>
            </ui:define>

        </ui:composition>

    </body>
</html>
